<%- include('partials/header') %>
<main>
  <h1>Course Catalog</h1>
  <p>Browse our available courses and click on any course to see details, sections, and instructors.</p>

  <div class="course-list">
    <% 
      const courseArray = Array.isArray(courses) ? courses : Object.values(courses || {}); 
      if (!courseArray.length) { 
    %>
      <p>No courses available at the moment.</p>
    <% } else { 
         courseArray.forEach(course => { 
    %>
      <div class="course-card">
        <h3>
          <a href="/catalog/<%= course.slug || course.courseCode %>">
            <%= course.name %>
          </a>
        </h3>
        <p class="course-id">
          <%= course.courseCode %>
          • <%= course.creditHours %> credits
          <% if (course.department) { %> • <%= course.department %><% } %>
        </p>
        <% if (course.description) { %>
          <p class="course-description"><%= course.description %></p>
        <% } %>
      </div>
    <%  }); } %>
  </div>
</main>
<%- include('partials/footer') %>